---
title: "Tutorial: Configurando un Laboratorio de Pentesting"
description: "GuÃ­a completa para crear tu propio laboratorio de pentesting desde cero usando VirtualBox y herramientas open source."
pubDate: 2025-01-25
category: "tutorial"
difficulty: "intermediate"
tags: ["tutorial", "laboratorio", "virtualbox", "kali", "metasploitable"]
language: "es"
readTime: 15
---

## ğŸ¯ Objetivo del Tutorial

AprenderÃ¡s a configurar un laboratorio de pentesting completo y funcional en tu propia mÃ¡quina usando software gratuito.

## ğŸ“‹ Requisitos Previos

### Hardware
- **RAM**: MÃ­nimo 8GB (16GB recomendado)
- **CPU**: Procesador de 4 nÃºcleos o mÃ¡s
- **Almacenamiento**: 100GB libres en disco
- **VirtualizaciÃ³n**: VT-x/AMD-V habilitado en BIOS

### Software
- VirtualBox 7.0 o superior
- ConexiÃ³n a internet estable
- Sistema operativo host: Windows/Linux/macOS

## ğŸ”§ Paso 1: InstalaciÃ³n de VirtualBox

### Descarga e InstalaciÃ³n

```bash
# En Linux (Ubuntu/Debian)
sudo apt update
sudo apt install virtualbox virtualbox-ext-pack

# Verificar instalaciÃ³n
VBoxManage --version
```

Para Windows/macOS, descarga desde [virtualbox.org](https://www.virtualbox.org/).

### ConfiguraciÃ³n de Red

Crea una red NAT para el laboratorio:

```bash
VBoxManage natnetwork add --netname LabNetwork --network "192.168.100.0/24" --enable
```

## ğŸ‰ Paso 2: Configurar Kali Linux

### Descarga de Kali

1. Visita [kali.org/get-kali](https://www.kali.org/get-kali/)
2. Descarga la imagen VirtualBox pre-built
3. Importa el archivo .ova en VirtualBox

### ConfiguraciÃ³n Inicial

```bash
# Actualizar sistema
sudo apt update && sudo apt upgrade -y

# Instalar herramientas adicionales
sudo apt install -y \
    terminator \
    tmux \
    git \
    curl \
    wget \
    python3-pip

# Configurar Python
pip3 install --upgrade pip
pip3 install requests beautifulsoup4 pwntools
```

### PersonalizaciÃ³n

```bash
# Crear estructura de directorios
mkdir -p ~/labs/{htb,thm,vulnhub,tools,notes}

# Instalar herramientas adicionales
git clone https://github.com/carlospolop/PEASS-ng.git ~/tools/peass
git clone https://github.com/rebootuser/LinEnum.git ~/tools/linenum
```

## ğŸ¯ Paso 3: MÃ¡quinas Vulnerables

### Metasploitable 3

```bash
# Clonar repositorio
git clone https://github.com/rapid7/metasploitable3.git
cd metasploitable3

# Construir con Vagrant
vagrant up
```

### DVWA (Damn Vulnerable Web Application)

```bash
# Descargar imagen Docker
docker pull vulnerables/web-dvwa

# Ejecutar contenedor
docker run -d -p 80:80 vulnerables/web-dvwa
```

### VulnHub Machines

Descarga desde [vulnhub.com](https://www.vulnhub.com/):
- **Kioptrix Level 1**: Ideal para principiantes
- **Mr. Robot**: Dificultad intermedia
- **Brainpan**: Para practicar buffer overflow

## ğŸŒ Paso 4: ConfiguraciÃ³n de Red

### TopologÃ­a de Red

```
Internet
    |
    v
[Host Machine]
    |
    +--- NAT Network (192.168.100.0/24)
          |
          +--- [Kali Linux] (192.168.100.10)
          |
          +--- [Metasploitable] (192.168.100.20)
          |
          +--- [DVWA] (192.168.100.30)
```

### Configurar IPs EstÃ¡ticas

En cada VM, edita `/etc/network/interfaces`:

```bash
# Kali Linux
auto eth0
iface eth0 inet static
    address 192.168.100.10
    netmask 255.255.255.0
    gateway 192.168.100.1
    dns-nameservers 8.8.8.8 8.8.4.4
```

## ğŸ› ï¸ Paso 5: Herramientas Esenciales

### Scanner de Vulnerabilidades

```bash
# Instalar Nessus (versiÃ³n gratuita)
wget https://www.tenable.com/downloads/api/v1/public/pages/nessus/downloads/[VERSION]/Nessus-[VERSION]-debian6_amd64.deb
sudo dpkg -i Nessus-*.deb
sudo /bin/systemctl start nessusd.service
```

### Proxy de InterceptaciÃ³n

```bash
# Burp Suite Community
sudo apt install burpsuite

# Configurar certificado
# 1. Iniciar Burp Suite
# 2. Ir a Proxy > Options
# 3. Exportar certificado CA
# 4. Instalar en navegador
```

### Framework de ExplotaciÃ³n

```bash
# Metasploit Framework (ya incluido en Kali)
msfconsole

# Actualizar base de datos
msfdb init
msfdb start
```

## ğŸ“ Paso 6: ValidaciÃ³n del Laboratorio

### Test de Conectividad

```bash
# Desde Kali, ping a las VMs
ping -c 4 192.168.100.20  # Metasploitable
ping -c 4 192.168.100.30  # DVWA

# Escaneo rÃ¡pido con nmap
nmap -sn 192.168.100.0/24
```

### Primer Escaneo

```bash
# Escaneo completo de Metasploitable
nmap -sC -sV -p- -oN metasploitable_scan.txt 192.168.100.20

# Escaneo de vulnerabilidades
nmap --script vuln 192.168.100.20
```

## ğŸ“ Ejercicios PrÃ¡cticos

### Ejercicio 1: EnumeraciÃ³n Web

```bash
# Enumerar DVWA
gobuster dir -u http://192.168.100.30 \
    -w /usr/share/wordlists/dirb/common.txt \
    -x php,html,txt

# Identificar tecnologÃ­as
whatweb http://192.168.100.30
```

### Ejercicio 2: ExplotaciÃ³n BÃ¡sica

```bash
# Buscar exploits para servicios encontrados
searchsploit vsftpd 2.3.4

# Usar Metasploit
msfconsole
use exploit/unix/ftp/vsftpd_234_backdoor
set RHOSTS 192.168.100.20
exploit
```

## ğŸ”’ Mejores PrÃ¡cticas

1. **Snapshots**: Crea snapshots antes de cada cambio importante
2. **Aislamiento**: MantÃ©n el lab en red aislada
3. **DocumentaciÃ³n**: Registra todos tus hallazgos
4. **Backups**: Respalda configuraciones periÃ³dicamente

## ğŸ“š Recursos Adicionales

- **Libros**: "The Hacker Playbook" series
- **Cursos**: Offensive Security (OSCP)
- **Comunidades**: Reddit r/netsec, HackTheBox Discord
- **Blogs**: 0xdf.gitlab.io, ippsec.rocks

## ğŸ¯ PrÃ³ximos Pasos

1. Practicar con mÃ¡quinas de VulnHub
2. Registrarse en HackTheBox/TryHackMe
3. Documentar tus primeros writeups
4. Unirte a comunidades de seguridad

Â¡Tu laboratorio estÃ¡ listo! Ahora es momento de practicar y mejorar tus habilidades de pentesting.
